# USB Ingest Rules Configuration
# Copy this to ~/.config/usb-ingest/rules.yaml

rules:
  # Camera photos (DCIM folder from cameras/phones)
  - match: "DCIM/**/*.{jpg,jpeg,png,heic,raw,cr2,nef,arw}"
    destination: "~/Photos/Camera"
    enabled: true

  # Videos
  - match: "**/*.{mp4,mov,avi,mkv,webm}"
    destination: "~/Videos/USB-Import"
    enabled: true

  # Documents
  - match: "**/*.{pdf,doc,docx,xls,xlsx,ppt,pptx}"
    destination: "~/Documents/USB-Import"
    enabled: true

  # Music
  - match: "**/*.{mp3,flac,wav,aac,ogg}"
    destination: "~/Music/USB-Import"
    enabled: false  # disabled by default

defaults:
  # Where to copy files that don't match any rule
  # Set to null to skip unmatched files
  unmatchedDestination: null

# Files/folders to always ignore (glob patterns)
exclusions:
  - ".DS_Store"
  - "Thumbs.db"
  - "desktop.ini"
  - "**/__MACOSX/**"
  - "**/.Spotlight-V100/**"
  - "**/.Trashes/**"
  - "**/.fseventsd/**"
  - "**/System Volume Information/**"

# Experimental features (disabled by default)
features:
  # Copy History & Activity Log
  # Tracks all copy operations with timestamps and statistics
  copyHistory: false

  # Smart Auto-Organization
  # Auto-organize files by date/metadata during copy
  smartOrganization: false

  # Content-Based Duplicate Detection
  # Hash-based comparison to detect identical files
  contentDuplicates: false

  # Scheduled Actions
  # Auto-delete from USB after copy, auto-eject, etc.
  scheduledActions: false

# Smart Organization Settings (only used if features.smartOrganization is enabled)
smartOrganization:
  # Pattern for organizing files: {year}/{month}/{day}/{name}
  # Available variables: {year}, {month}, {day}, {name}, {ext}, {type}
  pattern: "{year}/{month}/{day}/{name}"

  # Organize by metadata (EXIF for photos, etc.)
  useMetadata: true

# Scheduled Actions Settings (only used if features.scheduledActions is enabled)
scheduledActions:
  # Auto-delete from USB after successful copy
  autoDeleteAfterCopy: false

  # Auto-eject USB after copy completion
  autoEjectAfterCopy: false

  # Cleanup old files from USB (files older than X days)
  cleanupOldFiles: false
  cleanupDays: 30
